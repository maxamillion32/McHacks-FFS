<!--
  Generated template for the BidsPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-navbar *navbar primary>
  <ion-title>My Offers</ion-title>
</ion-navbar>

<ion-content class="bids">
 
      <ion-list-header>
      <h3>Confirmed listings</h3>
      <ion-note text-center>(Slide listings for options)</ion-note>
    </ion-list-header>
    <ion-item *ngIf="fbdb.myconfirmedlistings.length == 0"><p>No confirmed listings</p></ion-item>
    <ion-item *ngFor="#listing of fbdb.myconfirmedlistings">
      <h2>{{listing.val().title}} <span primary>${{listing.val().finaloffer.price}}</span></h2>
      <a button item-right secondary [href]="'tel:' + listing.val().finaloffer.phone"><ion-icon name="call"></ion-icon> Contact Seller</a>
    </ion-item>
  <ion-card *ngFor="#listing of fbdb.myOffers;">
    <ion-item>
      <ion-thumbnail item-left (click)="showImages()">
        <img src="assets/vacuum1.jpg">
      </ion-thumbnail>
      <h2><b>{{fbdb.getItem(listing.val().itemkey).title}}</b></h2>
      <p>Posted by V. Repkow</p>
      <div item-right text-right>
        <h2>{{fbdb.getItem(listing.val().itemkey).askingprice}} (OBO)</h2>
        <p>(4.7 <ion-icon name="star"></ion-icon>)</p>
      </div>
    </ion-item>
    <ion-card-content>
      <p>Brand new vaccum, great condition, barely used. Sucks the shit out of anything.</p>
    </ion-card-content>
    <ion-item>
      <p item-left>Highest offer: ${{fbdb.getItem(listing.val().itemkey).bestoffer}}</p>
      <p text-center><ion-icon name="people"> 3</ion-icon></p>
      <p item-right>My offer: ${{listing.val().offerprice}}</p>
    </ion-item>
    <ion-item>
      <button item-left clear secondary (click)="editBid(listing.key())"><ion-icon name="arrow-dropup"></ion-icon> Edit my offer</button>
      <button item-right clear danger (click)="fbdb.deleteOffer(listing.key())"><ion-icon name="close"></ion-icon> Cancel my offer</button>
    </ion-item>
  </ion-card>
</ion-content>
